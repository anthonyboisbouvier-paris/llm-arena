<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LLM Arena - AI Model Evaluation Platform</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    /* Tooltip styles */
    .tooltip-container {
      position: relative;
      display: inline-flex;
      align-items: center;
    }
    
    /* Battle Animation Overlay */
    .battle-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 9999;
      background: 
        repeating-linear-gradient(
          45deg,
          rgba(101, 67, 33, 0.03) 0px,
          rgba(101, 67, 33, 0.03) 2px,
          transparent 2px,
          transparent 4px
        ),
        radial-gradient(ellipse at center, 
          rgba(139, 69, 19, 0.4) 0%,
          rgba(101, 67, 33, 0.6) 40%,
          rgba(42, 42, 42, 0.95) 100%
        ),
        linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%);
      display: none;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
    }
    
    .battle-overlay.active {
      display: block;
      opacity: 1;
    }
    
    .battle-arena {
      width: 100%;
      height: 100%;
      position: relative;
      overflow: hidden;
    }
    
    .battle-arena::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 500px;
      height: 500px;
      border-radius: 50%;
      border: 4px solid rgba(139, 69, 19, 0.6);
      background: radial-gradient(circle at center,
        rgba(101, 67, 33, 0.1) 0%,
        rgba(139, 69, 19, 0.15) 50%,
        transparent 100%
      );
      box-shadow: 
        0 0 40px rgba(218, 165, 32, 0.3),
        inset 0 0 80px rgba(139, 69, 19, 0.3),
        inset 0 0 20px rgba(218, 165, 32, 0.2);
      animation: battleArenaGlow 3s ease-in-out infinite;
    }
    
    @keyframes battleArenaGlow {
      0%, 100% { 
        box-shadow: 
          0 0 40px rgba(218, 165, 32, 0.3),
          inset 0 0 80px rgba(139, 69, 19, 0.3),
          inset 0 0 20px rgba(218, 165, 32, 0.2);
      }
      50% { 
        box-shadow: 
          0 0 60px rgba(218, 165, 32, 0.5),
          inset 0 0 100px rgba(139, 69, 19, 0.4),
          inset 0 0 40px rgba(218, 165, 32, 0.3);
      }
    }
    
    .battle-gladiator {
      position: absolute;
      width: 100px;
      height: 100px;
      display: flex;
      flex-direction: column;
      align-items: center;
      animation: battleFloat 3s ease-in-out infinite;
    }
    
    @keyframes battleFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-15px); }
    }
    
    .battle-gladiator.left {
      left: 20%;
      top: 55%;
      animation-delay: 0s;
    }
    
    .battle-gladiator.center {
      left: 50%;
      top: 22%;
      transform: translateX(-50%);
      animation-delay: 0.5s;
    }
    
    .battle-gladiator.right {
      right: 20%;
      top: 55%;
      animation-delay: 1s;
    }
    
    .battle-avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 50px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
      animation: battleGlow 2s ease-in-out infinite;
    }
    
    @keyframes battleGlow {
      0%, 100% {
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5),
                    0 0 20px rgba(255, 255, 255, 0.2);
      }
      50% {
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5),
                    0 0 40px rgba(255, 255, 255, 0.4);
      }
    }
    
    .battle-gladiator.left .battle-avatar {
      background: linear-gradient(135deg, #10a37f 0%, #1a7f64 100%);
    }
    
    .battle-gladiator.center .battle-avatar {
      background: linear-gradient(135deg, #4285f4 0%, #34a853 50%, #fbbc04 75%, #ea4335 100%);
    }
    
    .battle-gladiator.right .battle-avatar {
      background: linear-gradient(135deg, #cc785c 0%, #a0614a 100%);
    }
    
    .battle-text {
      position: absolute;
      top: 48%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 50px;
      font-weight: 900;
      color: #daa520;
      text-shadow: 0 0 20px rgba(218, 165, 32, 0.8),
                   0 4px 8px rgba(0, 0, 0, 0.8);
      animation: battlePulse 1.5s ease-in-out infinite;
      z-index: 5;
      font-family: 'Georgia', serif;
      letter-spacing: 6px;
    }
    
    @keyframes battlePulse {
      0%, 100% { 
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.8;
      }
      50% { 
        transform: translate(-50%, -50%) scale(1.05);
        opacity: 1;
      }
    }
    
    .battle-name {
      margin-top: 8px;
      color: white;
      font-weight: bold;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 1px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }
    
    .battle-message {
      position: absolute;
      top: 15%;
      left: 50%;
      transform: translateX(-50%);
      color: #daa520;
      font-size: 18px;
      font-weight: bold;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
      font-family: 'Georgia', serif;
    }
    
    /* Mini Arena - Home Page Preview */
    .mini-arena {
      position: relative;
      width: 280px;
      height: 280px;
      margin: 0 auto 30px;
    }
    
    .mini-arena-circle {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 200px;
      height: 200px;
      border-radius: 50%;
      border: 3px solid rgba(139, 69, 19, 0.4);
      background: radial-gradient(circle at center,
        rgba(101, 67, 33, 0.05) 0%,
        rgba(139, 69, 19, 0.1) 50%,
        transparent 100%
      );
      box-shadow: 
        0 0 30px rgba(218, 165, 32, 0.2),
        inset 0 0 50px rgba(139, 69, 19, 0.2);
      animation: miniArenaGlow 3s ease-in-out infinite;
    }
    
    @keyframes miniArenaGlow {
      0%, 100% { 
        box-shadow: 
          0 0 30px rgba(218, 165, 32, 0.2),
          inset 0 0 50px rgba(139, 69, 19, 0.2);
      }
      50% { 
        box-shadow: 
          0 0 40px rgba(218, 165, 32, 0.3),
          inset 0 0 60px rgba(139, 69, 19, 0.3);
      }
    }
    
    .mini-gladiator {
      position: absolute;
      display: flex;
      flex-direction: column;
      align-items: center;
      animation: miniFloat 3s ease-in-out infinite;
    }
    
    /* Position 5 LLMs in a circle */
    .mini-gladiator.mini-pos-1 {
      left: 50%;
      top: 10px;
      transform: translateX(-50%);
      animation-delay: 0s;
    }
    
    .mini-gladiator.mini-pos-2 {
      right: 20px;
      top: 65px;
      animation-delay: 0.2s;
    }
    
    .mini-gladiator.mini-pos-3 {
      right: 35px;
      bottom: 45px;
      animation-delay: 0.4s;
    }
    
    .mini-gladiator.mini-pos-4 {
      left: 35px;
      bottom: 45px;
      animation-delay: 0.6s;
    }
    
    .mini-gladiator.mini-pos-5 {
      left: 20px;
      top: 65px;
      animation-delay: 0.8s;
    }
    
    .mini-avatar {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      box-shadow: 0 3px 12px rgba(0, 0, 0, 0.3);
      animation: miniGlow 2s ease-in-out infinite;
      margin-bottom: 4px;
    }
    
    .mini-avatar.mini-gpt {
      background: linear-gradient(135deg, #10a37f 0%, #1a7f64 100%);
    }
    
    .mini-avatar.mini-gemini {
      background: linear-gradient(135deg, #4285f4 0%, #34a853 50%, #fbbc04 75%, #ea4335 100%);
    }
    
    .mini-avatar.mini-claude {
      background: linear-gradient(135deg, #cc785c 0%, #a0614a 100%);
    }
    
    .mini-avatar.mini-mistral {
      background: linear-gradient(135deg, #ff7000 0%, #d15a00 100%);
    }
    
    .mini-avatar.mini-llama {
      background: linear-gradient(135deg, #5436da 0%, #3d24a8 100%);
    }
    
    .mini-health-bar {
      width: 40px;
      height: 4px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 2px;
      overflow: hidden;
      margin-bottom: 2px;
    }
    
    .mini-health-fill {
      height: 100%;
      width: 100%;
      background: linear-gradient(90deg, #22c55e 0%, #16a34a 100%);
      transition: width 0.3s ease-out;
    }
    
    .mini-name {
      font-size: 9px;
      font-weight: bold;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    @keyframes miniFloat {
      0%, 100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-3px) scale(1.03); }
    }
    
    .mini-gladiator.mini-pos-1 {
      animation: miniFloatCenter 3s ease-in-out infinite;
    }
    
    @keyframes miniFloatCenter {
      0%, 100% { transform: translateX(-50%) translateY(0) scale(1); }
      50% { transform: translateX(-50%) translateY(-3px) scale(1.03); }
    }
    
    @keyframes miniGlow {
      0%, 100% {
        box-shadow: 0 3px 12px rgba(0, 0, 0, 0.3),
                    0 0 8px rgba(255, 255, 255, 0.1);
      }
      50% {
        box-shadow: 0 3px 12px rgba(0, 0, 0, 0.3),
                    0 0 15px rgba(255, 255, 255, 0.25);
      }
    }
    
    /* Tooltip styles */
    .tooltip-container {
      position: relative;
      display: inline-flex;
      align-items: center;
    }
    .tooltip-trigger {
      cursor: help;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: #e5e7eb;
      color: #6b7280;
      font-size: 11px;
      font-weight: bold;
      margin-left: 6px;
      transition: all 0.2s;
    }
    .tooltip-trigger:hover {
      background: #3b82f6;
      color: white;
    }
    .tooltip-content {
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%) translateY(-8px);
      background: #1f2937;
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 12px;
      line-height: 1.4;
      width: 200px;
      z-index: 1000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .tooltip-content::after {
      content: '';
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      border: 6px solid transparent;
      border-top-color: #1f2937;
    }
    .tooltip-container:hover .tooltip-content {
      opacity: 1;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-orange-50 via-red-50 to-yellow-50 min-h-screen">
  <div id="root"></div>
  
  <!-- Battle Animation Overlay -->
  <div id="battleOverlay" class="battle-overlay">
    <div class="battle-arena">
      <div class="battle-text">FIGHTING</div>
      <div class="battle-message" id="battleMsg">‚öîÔ∏è Models entering the arena...</div>
      
      <div class="battle-gladiator left">
        <div class="battle-avatar">üõ°Ô∏è</div>
        <div class="battle-name">GPT</div>
      </div>
      
      <div class="battle-gladiator center">
        <div class="battle-avatar">‚öîÔ∏è</div>
        <div class="battle-name">Gemini</div>
      </div>
      
      <div class="battle-gladiator right">
        <div class="battle-avatar">üó°Ô∏è</div>
        <div class="battle-name">Claude</div>
      </div>
    </div>
  </div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Tooltip component
    const Tooltip = ({ text, children }) => {
      return (
        <span className="tooltip-container">
          {children}
          <span className="tooltip-trigger">?</span>
          <span className="tooltip-content">{text}</span>
        </span>
      );
    };

    const WEBHOOK_URL = 'https://n8n.srv1262078.hstgr.cloud/webhook/ai-judges-report';
    const PRESETS_URL = 'https://n8n.srv1262078.hstgr.cloud/webhook/model-presets';

    // Fallback presets if API fails (updated 2026-02-07)
    const FALLBACK_PRESETS = {
      lastUpdated: "2026-02-07",
      flagship: [
        'openai/gpt-5.2',
        'openai/gpt-5.2-pro',
        'openai/gpt-4o',
        'anthropic/claude-opus-4.5',
        'anthropic/claude-3.5-sonnet',
        'google/gemini-3-pro-preview',
        'google/gemini-2.5-pro',
        'mistralai/mistral-large-2512'
      ],
      fast: [
        'openai/gpt-5.2-chat',
        'openai/gpt-4o-mini',
        'anthropic/claude-3.5-haiku',
        'google/gemini-3-flash-preview',
        'google/gemini-2.5-flash',
        'meta-llama/llama-3.3-70b-instruct',
        'mistralai/ministral-14b-2512'
      ],
      budget: [
        'google/gemini-flash-1.5',
        'meta-llama/llama-3.1-8b-instruct',
        'mistralai/ministral-3b-2512',
        'liquid/lfm-2.2-6b'
      ],
      context: [
        'writer/palmyra-x5',
        'google/gemini-3-pro-preview',
        'openai/gpt-5.2',
        'anthropic/claude-opus-4.5',
        'x-ai/grok-4.1-fast'
      ]
    };

    // Fallback models if API fails
    const FALLBACK_MODELS = [
      { id: 'openai/gpt-4o-mini', name: 'GPT-4o Mini', provider: 'OpenAI' },
      { id: 'openai/gpt-4o', name: 'GPT-4o', provider: 'OpenAI' },
      { id: 'anthropic/claude-3.5-sonnet', name: 'Claude 3.5 Sonnet', provider: 'Anthropic' },
      { id: 'anthropic/claude-3.5-haiku', name: 'Claude 3.5 Haiku', provider: 'Anthropic' },
      { id: 'google/gemini-2.5-flash', name: 'Gemini 2.5 Flash', provider: 'Google' },
      { id: 'google/gemini-2.0-flash-exp', name: 'Gemini 2.0 Flash', provider: 'Google' },
    ];

    function App() {
      const [prompt, setPrompt] = useState('');
      const [availableModels, setAvailableModels] = useState(FALLBACK_MODELS);
      const [loadingModels, setLoadingModels] = useState(true);
      const [selectedModels, setSelectedModels] = useState([]);
      const [searchQuery, setSearchQuery] = useState('');
      const [suggestionCriteria, setSuggestionCriteria] = useState({
        priority1: 'flagship'
      });
      const [suggestions, setSuggestions] = useState([]);
      const [curatedPresets, setCuratedPresets] = useState(FALLBACK_PRESETS);
      const [apiKey, setApiKey] = useState('');
      const [friendCode, setFriendCode] = useState('');
      const [showApiSettings, setShowApiSettings] = useState(false);

      // Fetch models from OpenRouter API
      useEffect(() => {
        const fetchModels = async () => {
          try {
            const response = await fetch('https://openrouter.ai/api/v1/models');
            const data = await response.json();
            
            // Filter and format models (keep only major providers and text-only models)
            const formattedModels = data.data
              .filter(m => {
                const provider = m.id.split('/')[0];
                const isTextModel = !m.id.toLowerCase().includes('vision') && 
                                   !m.id.toLowerCase().includes('audio') && 
                                   !m.id.toLowerCase().includes('image') &&
                                   !m.id.toLowerCase().includes('whisper') &&
                                   !m.id.toLowerCase().includes('dall-e') &&
                                   !m.id.toLowerCase().includes('tts') &&
                                   !m.id.toLowerCase().includes('embedding') &&
                                   !m.id.toLowerCase().includes('moderation');
                return ['openai', 'anthropic', 'google', 'meta-llama', 'mistralai', 'cohere'].includes(provider) && isTextModel;
              })
              .map(m => {
                const provider = m.id.split('/')[0];
                const providerCapitalized = provider.charAt(0).toUpperCase() + provider.slice(1);
                // Remove provider prefix from display name if present
                let displayName = m.name;
                const prefixes = ['OpenAI: ', 'Anthropic: ', 'Google: ', 'Meta: ', 'Mistral: ', 'Cohere: '];
                prefixes.forEach(prefix => {
                  if (displayName.startsWith(prefix)) {
                    displayName = displayName.substring(prefix.length);
                  }
                });
                
                return {
                  id: m.id,
                  name: displayName,
                  provider: providerCapitalized,
                  contextLength: m.context_length,
                  pricing: m.pricing
                };
              })
              .sort((a, b) => {
                // Sort by provider then by name
                if (a.provider !== b.provider) return a.provider.localeCompare(b.provider);
                return a.name.localeCompare(b.name);
              });
            
            setAvailableModels(formattedModels.length > 0 ? formattedModels : FALLBACK_MODELS);
          } catch (error) {
            console.error('Failed to fetch models:', error);
            setAvailableModels(FALLBACK_MODELS);
          } finally {
            setLoadingModels(false);
          }
        };
        
        fetchModels();
      }, []);

      // Fetch curated presets from n8n workflow
      useEffect(() => {
        const fetchPresets = async () => {
          try {
            const response = await fetch(PRESETS_URL);
            const data = await response.json();
            setCuratedPresets(data);
            console.log('Loaded presets updated:', data.lastUpdated);
          } catch (error) {
            console.warn('Failed to fetch presets, using fallback:', error);
            setCuratedPresets(FALLBACK_PRESETS);
          }
        };
        
        fetchPresets();
      }, []);
      const [temperature, setTemperature] = useState(0.7);
      const [maxTokens, setMaxTokens] = useState(2000);
      const [enableSupremeCourt, setEnableSupremeCourt] = useState(false);
      const [loading, setLoading] = useState(false);
      const [result, setResult] = useState(null);
      const [error, setError] = useState(null);

      // Auto-focus on textarea when component mounts
      useEffect(() => {
        const textarea = document.querySelector('textarea');
        if (textarea && !result) {
          textarea.focus();
        }
      }, [result]);
      
      // Initialize Mini Arena after component mounts
      useEffect(() => {
        const timer = setTimeout(() => {
          if (window.MiniArena) {
            console.log('Initializing MiniArena...');
            window.MiniArena.init();
          }
        }, 200);
        return () => clearTimeout(timer);
      }, []);

      // Example prompts - designed to show meaningful differences between models
      const examplePrompts = [
        "Explain quantum entanglement in exactly 2 sentences, one technical and one metaphorical",
        "Write a professional apology email for missing a deadline, maintaining both accountability and confidence",
        "Describe the color blue to someone who has never seen it, without using other colors",
        "In 50 words, argue why dogs are better than cats. Then in 50 words, argue the opposite"
      ];

      const toggleModel = (modelId) => {
        if (selectedModels.includes(modelId)) {
          // Allow deselection always (the form validation will check for minimum 2 at submit)
          setSelectedModels(selectedModels.filter(m => m !== modelId));
        } else {
          setSelectedModels([...selectedModels, modelId]);
        }
      };

      // Calculate model suggestions based on criteria
      const calculateSuggestions = () => {
        if (availableModels.length === 0) {
          setSuggestions([]);
          return;
        }

        const { priority1 } = suggestionCriteria;
        const presetIds = curatedPresets[priority1] || [];
        
        // Filter to only models that exist in availableModels
        const availablePresets = presetIds.filter(presetId => 
          availableModels.some(m => m.id === presetId)
        );
        
        setSuggestions(availablePresets);
      };

      React.useEffect(() => {
        calculateSuggestions();
      }, [suggestionCriteria, availableModels, curatedPresets]);

      const handleSubmit = async (e) => {
        e.preventDefault();
        
        if (!prompt.trim()) {
          setError('Please enter a prompt');
          return;
        }

        if (selectedModels.length < 2) {
          setError('Select at least 2 models');
          return;
        }

        // Validate API key or friend code
        if (!apiKey && !friendCode) {
          setError('Please provide your OpenRouter API key or friend code');
          return;
        }

        setLoading(true);
        setError(null);
        setResult(null);

        // Show battle animation with combat
        if (window.BattleArena) {
          window.BattleArena.show();
        }

        // Scroll to top after state update to see progress
        setTimeout(() => {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }, 100);

        try {
          const response = await fetch(WEBHOOK_URL, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              prompt: prompt,
              models: selectedModels,
              temperature: temperature,
              max_tokens: maxTokens,
              api_key: apiKey || null,
              friend_code: friendCode || null,
              enable_supreme_court: enableSupremeCourt
            })
          });

          if (!response.ok) {
            throw new Error(`HTTP Error: ${response.status}`);
          }

          const html = await response.text();
          
          // Hide battle animation
          if (window.BattleArena) {
            window.BattleArena.hide();
          }
          
          setResult(html);
          
          // Smooth scroll to results after a short delay
          setTimeout(() => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
          }, 300);
        } catch (err) {
          // Hide battle animation on error
          if (window.BattleArena) {
            window.BattleArena.hide();
          }
          
          setError(`Error: ${err.message}`);
          // Auto-dismiss error after 8 seconds
          setTimeout(() => setError(null), 8000);
        } finally {
          setLoading(false);
        }
      };

      return (
        <div className="container mx-auto px-4 py-8 max-w-7xl">
          <div className="text-center mb-10">
            {/* Gladiator Logo */}
            <div className="inline-flex items-center justify-center w-20 h-20 mb-5 rounded-3xl bg-gradient-to-br from-red-500 via-orange-500 to-yellow-500 shadow-2xl transform hover:rotate-6 transition-transform">
              <span className="text-4xl">‚öîÔ∏è</span>
            </div>
            
            <h1 className="text-6xl font-black mb-3 bg-gradient-to-r from-red-600 via-orange-600 to-yellow-600 bg-clip-text text-transparent">
              LLM Arena
            </h1>
            <p className="text-xl text-gray-700 font-semibold mb-6">
              Where Language Models Battle for Glory
            </p>
            
            {/* Mini Arena Preview with 5 LLMs */}
            <div className="mini-arena">
              <div className="mini-gladiator mini-pos-1">
                <div className="mini-avatar mini-gpt">üõ°Ô∏è</div>
                <div className="mini-health-bar">
                  <div className="mini-health-fill" id="miniHealth1"></div>
                </div>
                <div className="mini-name">GPT</div>
              </div>
              <div className="mini-gladiator mini-pos-2">
                <div className="mini-avatar mini-gemini">‚öîÔ∏è</div>
                <div className="mini-health-bar">
                  <div className="mini-health-fill" id="miniHealth2"></div>
                </div>
                <div className="mini-name">Gemini</div>
              </div>
              <div className="mini-gladiator mini-pos-3">
                <div className="mini-avatar mini-claude">üó°Ô∏è</div>
                <div className="mini-health-bar">
                  <div className="mini-health-fill" id="miniHealth3"></div>
                </div>
                <div className="mini-name">Claude</div>
              </div>
              <div className="mini-gladiator mini-pos-4">
                <div className="mini-avatar mini-mistral">‚ö°</div>
                <div className="mini-health-bar">
                  <div className="mini-health-fill" id="miniHealth4"></div>
                </div>
                <div className="mini-name">Mistral</div>
              </div>
              <div className="mini-gladiator mini-pos-5">
                <div className="mini-avatar mini-llama">ü¶ô</div>
                <div className="mini-health-bar">
                  <div className="mini-health-fill" id="miniHealth5"></div>
                </div>
                <div className="mini-name">Llama</div>
              </div>
              <div className="mini-arena-circle"></div>
            </div>

            {/* Why it's useful */}
            <div className="max-w-3xl mx-auto mb-10 p-6 bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl border-2 border-orange-200 shadow-lg">
              <h3 className="text-lg font-bold text-gray-900 mb-3 flex items-center justify-center gap-2">
                <span className="text-2xl">üéØ</span>
                Why Use LLM Arena?
              </h3>
              <p className="text-sm text-gray-700 leading-relaxed mb-3">
                <strong>Stop guessing which AI model is best for your task.</strong> Whether you're choosing a model for your product, 
                testing prompt engineering strategies, or just curious about AI capabilities‚ÄîArena gives you objective, 
                side-by-side comparisons with peer-reviewed rankings.
              </p>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-3 text-xs">
                <div className="bg-white/70 rounded-lg p-3 border border-orange-200">
                  <div className="font-bold text-orange-700 mb-1">üî¨ For Developers</div>
                  <div className="text-gray-600">Test models before committing to APIs</div>
                </div>
                <div className="bg-white/70 rounded-lg p-3 border border-orange-200">
                  <div className="font-bold text-orange-700 mb-1">üìä For Product Teams</div>
                  <div className="text-gray-600">Data-driven model selection decisions</div>
                </div>
                <div className="bg-white/70 rounded-lg p-3 border border-orange-200">
                  <div className="font-bold text-orange-700 mb-1">üéì For Researchers</div>
                  <div className="text-gray-600">Unbiased multi-judge evaluation</div>
                </div>
              </div>
            </div>
            
            {/* Visual process flow with gladiator theme */}
            <div className="flex items-center justify-center gap-3 text-sm text-gray-600 mb-8 flex-wrap">
              <div className="flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-md border-2 border-orange-200">
                <span className="text-xl">üó°Ô∏è</span>
                <span className="font-semibold">Challenge</span>
              </div>
              <span className="text-2xl text-orange-400">‚ö°</span>
              <div className="flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-md border-2 border-orange-200">
                <span className="text-xl">‚öîÔ∏è</span>
                <span className="font-semibold">Battle</span>
              </div>
              <span className="text-2xl text-orange-400">‚ö°</span>
              <div className="flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-md border-2 border-orange-200">
                <span className="text-xl">‚öñÔ∏è</span>
                <span className="font-semibold">Judgment</span>
              </div>
              <span className="text-2xl text-orange-400">‚ö°</span>
              <div className="flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full shadow-lg">
                <span className="text-xl">üëë</span>
                <span className="font-bold text-white">Champion</span>
              </div>
            </div>
          </div>

          {!result ? (
            <div className="bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
              <form onSubmit={handleSubmit} className="space-y-6">
                {/* Progress indicator during loading */}
                {loading && (
                  <div className="bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-300 rounded-xl p-5 shadow-md">
                    <div className="flex items-center gap-3 mb-4">
                      <div className="animate-spin rounded-full h-6 w-6 border-b-2 border-orange-600"></div>
                      <span className="font-semibold text-orange-900 text-lg">‚öîÔ∏è Battle in progress...</span>
                    </div>
                    <div className="space-y-2 text-sm text-orange-700">
                      <div className="flex items-center gap-2">
                        <span className="text-green-600">‚úì</span>
                        <span>Gladiators entering the arena ({selectedModels.length} models)</span>
                      </div>
                      <div className="flex items-center gap-2">
                        <div className="animate-pulse">‚öîÔ∏è</div>
                        <span>Judges evaluating the combat ({selectedModels.length + (enableSupremeCourt ? 3 : 0)} judges)</span>
                      </div>
                      <div className="flex items-center gap-2">
                        <span className="text-gray-400">‚óã</span>
                        <span className="text-gray-500">Crowning the champion...</span>
                      </div>
                    </div>
                    {/* Progress bar */}
                    <div className="mt-4 w-full bg-orange-100 rounded-full h-2 overflow-hidden">
                      <div className="h-full bg-gradient-to-r from-red-500 to-yellow-500 rounded-full animate-pulse" style={{width: '60%', transition: 'width 0.5s'}}></div>
                    </div>
                  </div>
                )}

                <div>
                  <label className="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                    <span className="inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-600 text-white text-xs font-bold mr-2">1</span>
                    üìù Your question / prompt
                  </label>
                  <textarea
                    value={prompt}
                    onChange={(e) => setPrompt(e.target.value)}
                    placeholder="Ex: Explain the theory of relativity in 3 simple sentences"
                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                    rows="4"
                    required
                  />
                  
                  {/* Example prompts */}
                  <div className="mt-3">
                    <p className="text-xs text-gray-500 mb-2">üí° Try an example:</p>
                    <div className="flex flex-wrap gap-2">
                      {examplePrompts.map((example, idx) => (
                        <button
                          key={idx}
                          type="button"
                          onClick={() => setPrompt(example)}
                          className="text-xs px-3 py-2 bg-gradient-to-r from-orange-50 to-red-50 hover:from-orange-100 hover:to-red-100 text-gray-700 hover:text-gray-900 rounded-lg transition-all border border-orange-200 hover:border-orange-400 hover:shadow-md"
                        >
                          {example.substring(0, 45)}...
                        </button>
                      ))}
                    </div>
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-semibold text-gray-700 mb-3 flex items-center">
                    <span className="inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-600 text-white text-xs font-bold mr-2">2</span>
                    ü§ñ Select models to evaluate (min 2)
                  </label>
                  
                  {/* Suggestion criteria */}
                  <div className="mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                    <div className="flex items-center gap-2 mb-3">
                      <span className="text-sm font-semibold text-blue-900">üí° Smart Suggestions</span>
                      <Tooltip text="Curated model combinations optimized for different use cases: speed, quality, or cost">
                        <span></span>
                      </Tooltip>
                    </div>
                    <div>
                      <label className="block text-xs font-medium text-gray-700 mb-1">Choose a preset</label>
                      <select
                        value={suggestionCriteria.priority1}
                        onChange={(e) => setSuggestionCriteria({priority1: e.target.value})}
                        className="w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"
                      >
                        <option value="flagship">üèÜ Flagship (top-tier models)</option>
                        <option value="fast">‚ö° Fast & Cheap (best value models)</option>
                        <option value="budget">üí∞ Budget (most affordable)</option>
                        <option value="context">üìè Large Context (biggest windows)</option>
                      </select>
                    </div>
                    {suggestions.length > 0 && (
                      <div className="mt-3 pt-3 border-t border-blue-200">
                        <p className="text-xs text-blue-800 mb-2">Curated selection ({suggestions.length} models):</p>
                        <div className="flex flex-wrap gap-2">
                          {suggestions.map(modelId => {
                            const model = availableModels.find(m => m.id === modelId);
                            if (!model) return null;
                            const isSelected = selectedModels.includes(modelId);
                            return (
                              <button
                                key={modelId}
                                type="button"
                                onClick={() => toggleModel(modelId)}
                                className={`px-3 py-1 text-xs rounded-full font-medium transition-colors ${
                                  isSelected 
                                    ? 'bg-blue-600 text-white' 
                                    : 'bg-white text-blue-700 border border-blue-300 hover:bg-blue-100'
                                }`}
                              >
                                {isSelected ? '‚úì ' : ''}{model.name}
                              </button>
                            );
                          })}
                        </div>
                      </div>
                    )}
                  </div>

                  {loadingModels ? (
                    <div className="text-center py-8 text-gray-500">
                      <svg className="animate-spin h-8 w-8 mx-auto mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                        <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                      </svg>
                      Loading available models...
                    </div>
                  ) : (
                    <>
                      {/* Search bar */}
                      <div className="mb-3">
                        <div className="relative">
                          <input
                            type="text"
                            placeholder="Search models..."
                            value={searchQuery}
                            onChange={(e) => setSearchQuery(e.target.value)}
                            className="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                          />
                          <svg className="absolute left-3 top-2.5 h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                          </svg>
                        </div>
                      </div>
                      
                      <div className="border border-gray-200 rounded-lg max-h-96 overflow-y-auto">
                        {Object.entries(
                          availableModels
                            .filter(model => 
                              searchQuery === '' || 
                              model.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                              model.provider.toLowerCase().includes(searchQuery.toLowerCase())
                            )
                            .reduce((acc, model) => {
                              const provider = model.provider;
                              if (!acc[provider]) acc[provider] = [];
                              acc[provider].push(model);
                              return acc;
                            }, {})
                        ).map(([provider, models]) => (
                          <div key={provider} className="border-b border-gray-200 last:border-b-0">
                            <div className="bg-gray-50 px-4 py-2 font-semibold text-sm text-gray-700 sticky top-0">
                              {provider} ({models.length})
                            </div>
                            <div className="divide-y divide-gray-100">
                              {models.map(model => (
                                <label
                                  key={model.id}
                                  className={`flex items-center px-4 py-2.5 cursor-pointer hover:bg-blue-50 transition-colors ${
                                    selectedModels.includes(model.id) ? 'bg-blue-50' : 'bg-white'
                                  }`}
                                >
                                  <input
                                    type="checkbox"
                                    checked={selectedModels.includes(model.id)}
                                    onChange={() => toggleModel(model.id)}
                                    className="w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"
                                  />
                                  <span className="ml-3 text-sm text-gray-900">{model.name}</span>
                                </label>
                              ))}
                            </div>
                          </div>
                        ))}
                        {Object.keys(availableModels.filter(model => 
                          searchQuery === '' || 
                          model.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                          model.provider.toLowerCase().includes(searchQuery.toLowerCase())
                        )).length === 0 && (
                          <div className="text-center py-8 text-gray-500">
                            No models found matching "{searchQuery}"
                          </div>
                        )}
                      </div>
                      <p className="text-sm text-gray-500 mt-2">
                        {selectedModels.length} model(s) selected ¬∑ {availableModels.length} models available
                      </p>
                    </>
                  )}
                </div>

                {/* API Authentication Section */}
                <div className="p-5 bg-amber-50 border-2 border-amber-200 rounded-xl shadow-sm">
                  <div className="flex items-start gap-2 mb-3">
                    <span className="inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-600 text-white text-xs font-bold">3</span>
                    <span className="text-lg">üîë</span>
                    <div className="flex-1">
                      <div className="flex items-center gap-1">
                        <h4 className="font-semibold text-gray-900">API Authentication</h4>
                        <Tooltip text="Required to run evaluations. Use your own key for full control or a friend code for shared access">
                          <span></span>
                        </Tooltip>
                      </div>
                      <p className="text-xs text-gray-600 mb-3">
                        Use your own OpenRouter API key or enter a friend code
                      </p>
                    </div>
                  </div>
                  
                  <div className="space-y-3">
                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-1">
                        OpenRouter API Key (optional)
                      </label>
                      <input
                        type="password"
                        value={apiKey}
                        onChange={(e) => {
                          setApiKey(e.target.value);
                          if (e.target.value) setFriendCode('');
                        }}
                        placeholder="sk-or-v1-..."
                        className="w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                      />
                      <p className="text-xs text-gray-500 mt-1">
                        Get your key at <a href="https://openrouter.ai/keys" target="_blank" className="text-blue-600 hover:underline">openrouter.ai/keys</a>
                      </p>
                    </div>
                    
                    <div className="text-center text-xs text-gray-500 font-medium">OR</div>
                    
                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-1">
                        Friend Code (optional)
                      </label>
                      <input
                        type="text"
                        value={friendCode}
                        onChange={(e) => {
                          setFriendCode(e.target.value);
                          if (e.target.value) setApiKey('');
                        }}
                        placeholder="Enter friend code"
                        className="w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                      />
                      <p className="text-xs text-gray-500 mt-1">
                        Have a friend code? Enter it to use shared API quota
                      </p>
                    </div>
                  </div>
                </div>

                {/* Supreme Court Section */}
                <div className="p-5 bg-purple-50 border-2 border-purple-300 rounded-xl shadow-sm">
                  <div className="flex items-center gap-2">
                    <span className="inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-600 text-white text-xs font-bold">4</span>
                    <label className="flex items-center space-x-2 cursor-pointer flex-1">
                      <input
                        type="checkbox"
                        checked={enableSupremeCourt}
                        onChange={(e) => setEnableSupremeCourt(e.target.checked)}
                        className="w-5 h-5 text-blue-600 rounded"
                      />
                      <span className="text-sm font-semibold text-gray-900 flex items-center gap-1">
                        ‚öñÔ∏è Enable Supreme Court (3 elite judges)
                        <Tooltip text="Adds 3 flagship models (GPT-5.2 Pro, Claude Opus 4.5, Gemini 2.5 Pro) as supreme judges with 2√ó weight. They judge but aren't judged">
                          <span></span>
                        </Tooltip>
                      </span>
                    </label>
                  </div>
                  <p className="text-xs text-purple-700 mt-2 ml-8">
                    Adds GPT-5.2 Pro, Claude Opus 4.5, and Gemini 2.5 Pro as supreme judges with 2√ó weight in the final ranking. They appear in the matrix but aren't judged themselves.
                  </p>
                </div>

                {/* Advanced Settings - Temperature & Max Tokens only */}
                <details className="border border-gray-200 rounded-lg p-4">
                  <summary className="font-semibold text-gray-700 cursor-pointer">
                    ‚öôÔ∏è Advanced settings
                  </summary>
                  <div className="mt-4 space-y-4">
                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-2 flex items-center">
                        Temperature: {temperature}
                        <Tooltip text="Controls randomness. Lower (0-0.3) = consistent, factual. Higher (0.7-1.0) = creative, varied">
                          <span></span>
                        </Tooltip>
                      </label>
                      <input
                        type="range"
                        min="0"
                        max="1"
                        step="0.1"
                        value={temperature}
                        onChange={(e) => setTemperature(parseFloat(e.target.value))}
                        className="w-full"
                      />
                      <p className="text-xs text-gray-500 mt-1">
                        Lower = more deterministic, higher = more creative
                      </p>
                    </div>

                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-2 flex items-center">
                        Maximum tokens: {maxTokens}
                        <Tooltip text="Maximum length of each model's response. One token ‚âà 4 characters. Higher = longer answers, more cost">
                          <span></span>
                        </Tooltip>
                      </label>
                      <input
                        type="range"
                        min="100"
                        max="5000"
                        step="100"
                        value={maxTokens}
                        onChange={(e) => setMaxTokens(parseInt(e.target.value))}
                        className="w-full"
                      />
                      <p className="text-xs text-gray-500 mt-1">
                        Maximum response length
                      </p>
                    </div>
                  </div>
                </details>

                {error && (
                  <div className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start gap-3">
                    <span className="text-xl">‚ö†Ô∏è</span>
                    <div className="flex-1">
                      <p className="font-medium mb-1">Evaluation failed</p>
                      <p className="text-sm">{error}</p>
                    </div>
                    <button
                      onClick={() => setError(null)}
                      className="text-red-400 hover:text-red-600 transition-colors"
                      aria-label="Close error"
                    >
                      ‚úï
                    </button>
                  </div>
                )}

                {/* FAQ Section */}
                <details className="border border-gray-200 rounded-lg p-4 bg-gray-50">
                  <summary className="font-semibold text-gray-700 cursor-pointer flex items-center gap-2">
                    <span>‚ùì Frequently Asked Questions</span>
                  </summary>
                  <div className="mt-4 space-y-4 text-sm">
                    <div>
                      <h4 className="font-semibold text-gray-900 mb-1">What is the Supreme Court?</h4>
                      <p className="text-gray-600">
                        Three flagship models (GPT-5.2 Pro, Claude Opus 4.5, Gemini 2.5 Pro) act as "supreme judges" with 2√ó voting weight. 
                        They evaluate all responses but aren't evaluated themselves, providing expert judgment on quality.
                      </p>
                    </div>
                    
                    <div>
                      <h4 className="font-semibold text-gray-900 mb-1">How do I interpret the ranking matrix?</h4>
                      <p className="text-gray-600">
                        Each row shows one judge's ranking of all models. Numbers represent ranks (1 = best, higher = worse). 
                        Colors help visualize: green = top-ranked, red = bottom-ranked. The final score uses Borda count: 
                        models get points based on their average ranking position.
                      </p>
                    </div>
                    
                    <div>
                      <h4 className="font-semibold text-gray-900 mb-1">Can I compare more than 5 models?</h4>
                      <p className="text-gray-600">
                        Yes! You can select as many models as you want. However, evaluation time and cost increase linearly. 
                        With 10 models and Supreme Court enabled, you'll have 13 judges evaluating 10 responses (130 judgments total).
                      </p>
                    </div>
                    
                    <div>
                      <h4 className="font-semibold text-gray-900 mb-1">Are the results objective?</h4>
                      <p className="text-gray-600">
                        Results are as objective as possible: responses are anonymized before judging, and each model is evaluated 
                        by multiple judges (including itself). However, judges may have biases toward certain response styles. 
                        The aggregate scoring helps minimize individual bias.
                      </p>
                    </div>

                    <div>
                      <h4 className="font-semibold text-gray-900 mb-1">How much does an evaluation cost?</h4>
                      <p className="text-gray-600">
                        Cost varies based on models selected and response length. A typical evaluation with 3-5 models costs $0.01-0.05. 
                        The detailed report shows exact costs per model. Supreme Court adds ~$0.10-0.15 due to expensive flagship models.
                      </p>
                    </div>
                  </div>
                </details>

                <button
                  type="submit"
                  disabled={loading || selectedModels.length < 2}
                  className="w-full bg-gradient-to-r from-red-600 via-orange-600 to-yellow-600 text-white font-bold py-4 px-6 rounded-xl hover:from-red-700 hover:via-orange-700 hover:to-yellow-700 hover:shadow-2xl hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 transition-all duration-200 shadow-lg"
                >
                  {loading ? (
                    <span className="flex items-center justify-center">
                      <svg className="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                        <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                      </svg>
                      Evaluation in progress... (~{Math.ceil(selectedModels.length * 3 + (enableSupremeCourt ? 10 : 0))}s estimated)
                    </span>
                  ) : selectedModels.length >= 2 ? (
                    <span className="flex items-center justify-center gap-2">
                      <span>üöÄ Start evaluation</span>
                      <span className="text-xs bg-white/20 px-2 py-1 rounded">~{Math.ceil(selectedModels.length * 3 + (enableSupremeCourt ? 10 : 0))}s</span>
                    </span>
                  ) : (
                    <span className="flex items-center justify-center gap-2">
                      <span>Select at least 2 models to continue</span>
                    </span>
                  )}
                </button>

                {/* Ready status badge */}
                {selectedModels.length >= 2 && !loading && (
                  <div className="text-center">
                    <span className="inline-flex items-center gap-2 text-sm text-emerald-800 bg-emerald-100 px-5 py-2.5 rounded-full border-2 border-emerald-300 shadow-md">
                      <span className="w-2.5 h-2.5 bg-emerald-500 rounded-full animate-pulse"></span>
                      <span className="font-semibold">‚úì Ready to evaluate {selectedModels.length} models</span>
                      {enableSupremeCourt && <span className="text-emerald-700">+ 3 supreme judges</span>}
                    </span>
                  </div>
                )}
              </form>
            </div>
          ) : (
            <div className="space-y-4">
              {/* Success message */}
              <div className="bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-300 rounded-xl p-5 shadow-md">
                <div className="flex items-start gap-3">
                  <span className="text-3xl">üëë</span>
                  <div className="flex-1">
                    <h3 className="font-bold text-orange-900 mb-1 text-lg">
                      The Champion Has Been Crowned!
                    </h3>
                    <p className="text-sm text-orange-700">
                      {selectedModels.length} gladiators battled, judged by {selectedModels.length + (enableSupremeCourt ? 3 : 0)} experts
                      {enableSupremeCourt && <span className="font-medium"> (including 3 elite judges with 2√ó power)</span>}
                    </p>
                  </div>
                </div>
              </div>

              {/* Action buttons */}
              <div className="flex gap-3 flex-wrap">
                <button
                  onClick={() => {
                    setResult(null);
                    setPrompt('');
                  }}
                  className="flex-1 min-w-[200px] bg-gray-700 text-white font-semibold py-3 px-6 rounded-xl hover:bg-gray-800 hover:shadow-lg transition-all shadow-md"
                >
                  ‚öîÔ∏è New Battle
                </button>
                
                <button
                  onClick={() => {
                    const blob = new Blob([result], { type: 'text/html' });
                    const url = URL.createObjectURL(blob);
                    const printWindow = window.open(url, '_blank');
                    // Clean up after opening
                    setTimeout(() => URL.revokeObjectURL(url), 1000);
                  }}
                  className="flex-1 min-w-[200px] bg-gradient-to-r from-red-600 via-orange-600 to-yellow-600 text-white font-semibold py-3 px-6 rounded-xl hover:from-red-700 hover:via-orange-700 hover:to-yellow-700 hover:shadow-xl transition-all shadow-md flex items-center justify-center gap-2"
                >
                  <span>üñ®Ô∏è</span>
                  <span>Print</span>
                </button>
              </div>
              
              <div 
                className="bg-white rounded-xl shadow-lg overflow-hidden"
                dangerouslySetInnerHTML={{ __html: result }}
              />
            </div>
          )}

          {/* Footer with contact */}
          <footer className="mt-16 pb-8 text-center">
            <div className="max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-lg border border-gray-200">
              <h3 className="text-lg font-bold text-gray-900 mb-2 flex items-center justify-center gap-2">
                <span className="text-xl">üì¨</span>
                Questions or Feedback?
              </h3>
              <p className="text-sm text-gray-600 mb-4">
                LLM Arena is in active development. Your input helps us improve!
              </p>
              <a
                href="mailto:antho_007@hotmail.fr?subject=LLM Arena Feedback"
                className="inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-600 via-orange-600 to-yellow-600 text-white font-semibold rounded-xl hover:from-red-700 hover:via-orange-700 hover:to-yellow-700 transition-all shadow-md hover:shadow-lg"
              >
                <span>‚úâÔ∏è</span>
                <span>Contact: antho_007@hotmail.fr</span>
              </a>
              <div className="mt-4 text-xs text-gray-500">
                Built with ‚öîÔ∏è for the AI community
              </div>
            </div>
          </footer>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
  
  <script>
    // Battle Arena Combat System
    window.BattleArena = {
      overlay: null,
      arena: null,
      gladiators: [],
      messageInterval: null,
      combatInterval: null,
      
      init() {
        this.overlay = document.getElementById('battleOverlay');
        this.arena = document.querySelector('.battle-arena');
        this.gladiators = [
          { 
            element: document.querySelector('.battle-gladiator.left'),
            name: 'GPT',
            hp: 100
          },
          { 
            element: document.querySelector('.battle-gladiator.center'),
            name: 'Gemini',
            hp: 100
          },
          { 
            element: document.querySelector('.battle-gladiator.right'),
            name: 'Claude',
            hp: 100
          }
        ];
      },
      
      show() {
        if (!this.overlay) this.init();
        
        // Reset HP
        this.gladiators.forEach(g => g.hp = 100);
        
        this.overlay.classList.add('active');
        this.startCombat();
        this.startMessages();
      },
      
      hide() {
        if (this.overlay) {
          this.overlay.classList.remove('active');
        }
        if (this.messageInterval) {
          clearInterval(this.messageInterval);
        }
        if (this.combatInterval) {
          clearInterval(this.combatInterval);
        }
      },
      
      startMessages() {
        const battleMessage = document.getElementById('battleMsg');
        const messages = [
          '‚öîÔ∏è Models entering the arena...',
          'üéØ Evaluating responses...',
          '‚öñÔ∏è Judges deliberating...',
          'üèÜ Calculating rankings...'
        ];
        let idx = 0;
        
        if (battleMessage) {
          this.messageInterval = setInterval(() => {
            idx = (idx + 1) % messages.length;
            battleMessage.textContent = messages[idx];
          }, 2500);
        }
      },
      
      startCombat() {
        let attackCount = 0;
        const maxAttacks = 15;
        
        this.combatInterval = setInterval(() => {
          if (attackCount >= maxAttacks) {
            clearInterval(this.combatInterval);
            return;
          }
          
          const alive = this.gladiators.filter(g => g.hp > 0);
          if (alive.length < 2) {
            clearInterval(this.combatInterval);
            return;
          }
          
          const attacker = alive[Math.floor(Math.random() * alive.length)];
          const targets = alive.filter(g => g !== attacker);
          const target = targets[Math.floor(Math.random() * targets.length)];
          
          this.attack(attacker, target);
          attackCount++;
        }, 1200);
      },
      
      attack(attacker, target) {
        this.createBeam(attacker.element, target.element);
        
        setTimeout(() => {
          const damage = 15 + Math.random() * 25;
          target.hp = Math.max(0, target.hp - damage);
          
          const targetRect = target.element.getBoundingClientRect();
          this.createExplosion(
            targetRect.left + targetRect.width / 2,
            targetRect.top + targetRect.height / 2
          );
        }, 250);
      },
      
      createBeam(attackerEl, targetEl) {
        const beam = document.createElement('div');
        beam.style.cssText = `
          position: fixed;
          height: 6px;
          background: linear-gradient(90deg, 
            rgba(255, 255, 255, 1) 0%,
            rgba(255, 215, 0, 1) 50%,
            rgba(255, 165, 0, 0) 100%
          );
          border-radius: 3px;
          box-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
          opacity: 0;
          z-index: 10000;
          pointer-events: none;
        `;
        
        const aRect = attackerEl.getBoundingClientRect();
        const tRect = targetEl.getBoundingClientRect();
        
        const aX = aRect.left + aRect.width / 2;
        const aY = aRect.top + aRect.height / 2;
        const tX = tRect.left + tRect.width / 2;
        const tY = tRect.top + tRect.height / 2;
        
        const deltaX = tX - aX;
        const deltaY = tY - aY;
        const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
        const angle = Math.atan2(deltaY, deltaX) * (180 / Math.PI);
        
        beam.style.left = aX + 'px';
        beam.style.top = aY + 'px';
        beam.style.width = '0px';
        beam.style.transform = `translateY(-50%) rotate(${angle}deg)`;
        beam.style.transformOrigin = 'left center';
        
        document.body.appendChild(beam);
        
        setTimeout(() => {
          beam.style.transition = 'width 0.3s ease-out, opacity 0.3s';
          beam.style.opacity = '1';
          beam.style.width = distance + 'px';
        }, 10);
        
        setTimeout(() => beam.style.opacity = '0', 300);
        setTimeout(() => beam.remove(), 500);
      },
      
      createExplosion(x, y) {
        const explosion = document.createElement('div');
        explosion.style.cssText = `
          position: fixed;
          width: 80px;
          height: 80px;
          border-radius: 50%;
          background: radial-gradient(circle, 
            rgba(255, 255, 255, 1) 0%,
            rgba(255, 165, 0, 0.8) 30%,
            rgba(255, 0, 0, 0) 70%
          );
          left: ${x - 40}px;
          top: ${y - 40}px;
          opacity: 0;
          transform: scale(0);
          pointer-events: none;
          z-index: 10000;
        `;
        
        document.body.appendChild(explosion);
        
        setTimeout(() => {
          explosion.style.transition = 'all 0.4s ease-out';
          explosion.style.opacity = '1';
          explosion.style.transform = 'scale(1.5)';
        }, 10);
        
        setTimeout(() => explosion.style.opacity = '0', 250);
        setTimeout(() => explosion.remove(), 450);
      }
    };
  </script>
  
  <script>
    // Mini Arena - 5 LLMs Battle Royale with HP
    window.MiniArena = {
      gladiators: [],
      combatInterval: null,
      
      init() {
        this.gladiators = [
          { 
            element: document.querySelector('.mini-gladiator.mini-pos-1'),
            healthBar: document.getElementById('miniHealth1'),
            name: 'GPT',
            hp: 100
          },
          { 
            element: document.querySelector('.mini-gladiator.mini-pos-2'),
            healthBar: document.getElementById('miniHealth2'),
            name: 'Gemini',
            hp: 100
          },
          { 
            element: document.querySelector('.mini-gladiator.mini-pos-3'),
            healthBar: document.getElementById('miniHealth3'),
            name: 'Claude',
            hp: 100
          },
          { 
            element: document.querySelector('.mini-gladiator.mini-pos-4'),
            healthBar: document.getElementById('miniHealth4'),
            name: 'Mistral',
            hp: 100
          },
          { 
            element: document.querySelector('.mini-gladiator.mini-pos-5'),
            healthBar: document.getElementById('miniHealth5'),
            name: 'Llama',
            hp: 100
          }
        ];
        
        if (this.gladiators[0].element) {
          this.startCombat();
        }
      },
      
      startCombat() {
        let attackCount = 0;
        
        this.combatInterval = setInterval(() => {
          const alive = this.gladiators.filter(g => g.hp > 0);
          
          // Reset if only one or zero alive
          if (alive.length <= 1) {
            this.gladiators.forEach(g => {
              g.hp = 100;
              if (g.healthBar) g.healthBar.style.width = '100%';
            });
            attackCount = 0;
            return;
          }
          
          // Random attack
          const attacker = alive[Math.floor(Math.random() * alive.length)];
          const targets = alive.filter(g => g !== attacker);
          const target = targets[Math.floor(Math.random() * targets.length)];
          
          this.attack(attacker, target);
          attackCount++;
        }, 1400);
      },
      
      attack(attacker, target) {
        this.shootBeam(attacker.element, target.element);
        
        setTimeout(() => {
          // Apply damage
          const damage = 12 + Math.random() * 20;
          target.hp = Math.max(0, target.hp - damage);
          
          // Update health bar
          if (target.healthBar) {
            target.healthBar.style.width = target.hp + '%';
            
            // Color based on HP
            if (target.hp > 60) {
              target.healthBar.style.background = 'linear-gradient(90deg, #22c55e 0%, #16a34a 100%)';
            } else if (target.hp > 30) {
              target.healthBar.style.background = 'linear-gradient(90deg, #eab308 0%, #ca8a04 100%)';
            } else {
              target.healthBar.style.background = 'linear-gradient(90deg, #ef4444 0%, #dc2626 100%)';
            }
          }
          
          // Explosion
          const targetRect = target.element.getBoundingClientRect();
          this.createExplosion(
            targetRect.left + targetRect.width / 2,
            targetRect.top + targetRect.height / 2
          );
        }, 280);
      },
      
      shootBeam(fromEl, toEl) {
        const beam = document.createElement('div');
        beam.style.cssText = `
          position: fixed;
          height: 6px;
          background: linear-gradient(90deg, 
            rgba(255, 255, 255, 1) 0%,
            rgba(255, 215, 0, 1) 40%,
            rgba(255, 140, 0, 0.8) 80%,
            rgba(255, 69, 0, 0) 100%
          );
          border-radius: 3px;
          box-shadow: 
            0 0 15px rgba(255, 215, 0, 1),
            0 0 30px rgba(255, 165, 0, 0.6),
            0 0 5px rgba(255, 255, 255, 0.8);
          opacity: 0;
          z-index: 10000;
          pointer-events: none;
        `;
        
        const fromRect = fromEl.getBoundingClientRect();
        const toRect = toEl.getBoundingClientRect();
        
        const fromX = fromRect.left + fromRect.width / 2;
        const fromY = fromRect.top + fromRect.height / 2;
        const toX = toRect.left + toRect.width / 2;
        const toY = toRect.top + toRect.height / 2;
        
        const deltaX = toX - fromX;
        const deltaY = toY - fromY;
        const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
        const angle = Math.atan2(deltaY, deltaX) * (180 / Math.PI);
        
        beam.style.left = fromX + 'px';
        beam.style.top = fromY + 'px';
        beam.style.width = '0px';
        beam.style.transform = `translateY(-50%) rotate(${angle}deg)`;
        beam.style.transformOrigin = 'left center';
        
        document.body.appendChild(beam);
        
        setTimeout(() => {
          beam.style.transition = 'width 0.25s ease-out, opacity 0.25s';
          beam.style.opacity = '1';
          beam.style.width = distance + 'px';
        }, 10);
        
        setTimeout(() => beam.style.opacity = '0', 250);
        setTimeout(() => beam.remove(), 450);
      },
      
      createExplosion(x, y) {
        const exp = document.createElement('div');
        exp.style.cssText = `
          position: fixed;
          width: 50px;
          height: 50px;
          border-radius: 50%;
          background: radial-gradient(circle, 
            rgba(255, 255, 255, 1) 0%,
            rgba(255, 215, 0, 0.9) 20%,
            rgba(255, 140, 0, 0.7) 40%,
            rgba(255, 69, 0, 0.4) 60%,
            rgba(255, 0, 0, 0) 80%
          );
          box-shadow: 
            0 0 30px rgba(255, 165, 0, 0.8),
            0 0 50px rgba(255, 140, 0, 0.5);
          left: ${x - 25}px;
          top: ${y - 25}px;
          opacity: 0;
          transform: scale(0);
          pointer-events: none;
          z-index: 10001;
        `;
        
        document.body.appendChild(exp);
        
        setTimeout(() => {
          exp.style.transition = 'all 0.3s ease-out';
          exp.style.opacity = '1';
          exp.style.transform = 'scale(1.5)';
        }, 10);
        
        setTimeout(() => exp.style.opacity = '0', 200);
        setTimeout(() => exp.remove(), 350);
      }
    };
  </script>
</body>
</html>
